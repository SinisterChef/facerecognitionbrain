"use strict";(self.webpackChunkfacerecognitionbrain=self.webpackChunkfacerecognitionbrain||[]).push([[3372],{3372:(t,i,a)=>{a.d(i,{TrailDrawer:()=>o});var l=a(4409);const n=.5;class o{async draw(t){var i;const{context:a,radius:l,particle:o}=t,e=2*l,r=o.container.retina.pixelRatio,s=o.getPosition();if(!o.trail||!o.trailLength)return;const h=o.trailLength+l;if(o.trail.push({color:null!==(i=a.fillStyle)&&void 0!==i?i:a.strokeStyle,position:{x:s.x,y:s.y}}),o.trail.length<2)return;for(;o.trail.length>h;)o.trail.shift();const c=Math.min(o.trail.length,h),d=s.x,x=s.y,v=o.container.canvas.size.width+e,y=o.container.canvas.size.height+e;let f=o.trail[c-1].position;const u=1,p=0,g=0,b=1;a.setTransform(u,p,g,b,s.x,s.y);for(let W=c;W>0;W--){var m;const t=o.trail[W-1],i=t.position;a.beginPath(),a.moveTo(f.x-d,f.y-x);const l={x:(f.x+v)%v,y:(f.y+y)%y};if(Math.abs(f.x-i.x)>v*n||Math.abs(f.y-i.y)>y*n){f=i;continue}a.lineTo((Math.abs(f.x-i.x)>v*n?l.x:i.x)-d,(Math.abs(f.y-i.y)>y*n?l.y:i.y)-x);const s=Math.max(W/c*e,r,null!==(m=o.trailMinWidth)&&void 0!==m?m:-1),h=a.globalAlpha;a.globalAlpha=o.trailFade?W/c:1,a.lineWidth=o.trailMaxWidth?Math.min(s,o.trailMaxWidth):s,a.strokeStyle=t.color,a.stroke(),a.globalAlpha=h,f=i}const{transformData:M}=t;a.setTransform(M.a,M.b,M.c,M.d,s.x,s.y),await Promise.resolve()}async particleInit(t,i){var a,n;i.trail=[];const o=i.effectData;i.trailFade=null===(a=null===o||void 0===o?void 0:o.fade)||void 0===a||a,i.trailLength=(0,l.VG)(null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:10)*t.retina.pixelRatio,i.trailMaxWidth=null!==o&&void 0!==o&&o.maxWidth?(0,l.VG)(o.maxWidth)*t.retina.pixelRatio:void 0,i.trailMinWidth=null!==o&&void 0!==o&&o.minWidth?(0,l.VG)(o.minWidth)*t.retina.pixelRatio:void 0,await Promise.resolve()}}}}]);
//# sourceMappingURL=3372.4b8f2ef2.chunk.js.map